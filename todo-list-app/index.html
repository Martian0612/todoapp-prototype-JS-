<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todolist App</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.2/uuidv4.min.js"></script>
    <!-- For getting the calender -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="style.css">

</head>

<body>

    <div id="home-page" class="page" style="display:block;">
        <h1>Welcome to Martian TaskForge Pro.</h1>

        <form id="user-data" action="#">
            <label for="name">Name:</label>
            <input type="text" name="name" id="name" required>
            <br><br>
            <label for="email">Email:</label>
            <input type="email" name="email" id="email" required>

            <br><br>
            <!-- <input type="submit" value="Submit"> -->
            <!-- Changing the submit button type to avoid automatic submission and reloading of page. And in order to properly handle javascript. -->
            <button type="submit" id="submitBtn" name="submitBtn">Submit</button>
        </form>
        <br>


        <div id="user-dropdown">

            <label for="choose-user"></label>
            <select name="choose-user" id="choose-user">
                <option value="select any option" disabled selected>Choose an option</option>
            </select>
        </div>
    </div>


    <div id="user-profile" class="page" style="display:none;">
        <p>
        <h4>
            You can <b>add new tasks</b> by clicking the <b>"Add Task"</b> button.
            <br>
            You can <b>update tasks</b> by clicking on any task.
        </h4>
        </p>

        <!-- Add Task Button -->
        <button type="button" id="open-task-modal">Add Task</button>

        <!-- Task Modal -->
        <div id="task-modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modal-title">Add Task</h2>
                    <button type="button" id="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="task-form">
                        <label for="modal-task">Task:</label>
                        <input type="text" id="modal-task" name="task" aria-required="true">

                        <br><br>

                        <label for="modal-description">Description:</label>
                        <textarea name="description" id="modal-description" rows="4" cols="50" maxlength="350"
                            placeholder="Enter your description here...">
                        </textarea>

                        <br><br>

                        <label for="modal-status">Set current status: </label>
                        <select name="status" id="modal-status">
                            <option value="" disabled selected>Select an option</option>
                            <option value="not started">Not Started</option>
                            <option value="in progress">In Progress</option>
                            <option value="completed">Completed</option>
                        </select>

                        <br><br>

                        <label for="modal-priority">Set your Priority: </label>
                        <select name="priority" id="modal-priority" >
                            <option value="" disabled selected>Select an option</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>

                        <br><br>
                        <label for="modal-dueDate">Due Date</label>
                        <input type="text" id="modal-dueDate" placeholder="Select Due Date and Time">
                        <br><br>

                        <button type="submit" id="save-task">Save Task</button>
                    </form>
                </div>
            </div>
        </div>

        <br><br>
        <div id="task-display">
            <ol style="list-style-type: none;">
            </ol>
        </div>
        <br><br>
        <button type="button" id="back-to-home">Home</button>
    </div>

    <!-- script for flatpickr library  -->

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            flatpickr("#modal-dueDate", {
                enableTime: true,
                dateFormat: "Y-m-d H:i",
                altInput: true,
                altFormat: "F j, Y h:i K",
                minDate: "today"
            });
        });

    </script>

    <script type="module" src="navigation.js" defer></script>
    <script type="module" src="ui.js" defer></script>
    <script type="module" src="data.js" defer></script>
    <script type="module" src="validation.js" defer></script>
    <script type="module" src="app.js" defer> </script>


</body>

</html>
